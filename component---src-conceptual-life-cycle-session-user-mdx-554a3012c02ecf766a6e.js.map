{"version":3,"sources":["webpack:///../src/conceptual/life-cycle-session-user.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","kind","parentName","snippets","ios","swift","to","isMDXComponent"],"mappings":"oQAQaA,G,oBAAe,S,4NAC5B,IAAMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,YAACJ,EAAD,eAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAI5E,YAAC,IAAD,CAAWC,KAAK,QAAQD,QAAQ,aAAhC,6BACA,qBAAG,kBAAIE,WAAW,KAAf,2IACH,yXACA,iBAAQ,CACN,GAAM,WADR,WAGA,8EACA,waACA,YAAC,IAAD,CAAWD,KAAK,YAAYD,QAAQ,aAApC,qJAKA,iBAAQ,CACN,GAAM,QADR,QAGA,sFACA,mGACA,yHACA,YAAC,IAAD,CAAWC,KAAK,UAAUE,SAAU,CAClCC,IAAK,CACHC,MAAO,4DAGP,8EAIDL,QAAQ,cACX,oNACA,YAAC,IAAD,CAAWC,KAAK,YAAYD,QAAQ,aAApC,oQAGA,iWACA,YAAC,IAAD,CAAMM,GAAG,qCAAqCN,QAAQ,QAAtD,iBACA,iBAAQ,CACN,GAAM,0CADR,0CAGA,0SACA,YAAC,IAAD,CAAWC,KAAK,UAAUE,SAAU,CAClCC,IAAK,CACHC,MAAO,iRAQP,kaAaDL,QAAQ,cACX,gUACA,YAAC,IAAD,CAAWG,SAAU,CACnBC,IAAK,CACHC,MAAO,qDAGP,yEAIDL,QAAQ,cACX,YAAC,IAAD,CAAWC,KAAK,YAAYD,QAAQ,aAApC,sZAGA,iBAAQ,CACN,GAAM,4CADR,4CAGA,YAAC,IAAD,CAAWC,KAAK,YAAYD,QAAQ,aAApC,+JAGA,uQACA,YAAC,IAAD,CAAWG,SAAU,CACnBC,IAAK,CACHC,MAAO,sGAKP,kGAMDL,QAAQ,cACX,YAAC,IAAD,CAAMM,GAAG,0CAA0CN,QAAQ,QAA3D,iBACA,YAAC,IAAD,CAAWC,KAAK,OAAOD,QAAQ,aAA/B,saAEE,YAAC,IAAD,CAAMM,GAAG,sCAAsCN,QAAQ,QAAvD,2BAFF,KAIA,iBAAQ,CACN,GAAM,+BADR,+BAGA,+LACA,YAAC,IAAD,CAAWC,KAAK,OAAOD,QAAQ,aAA/B,oFAGA,iBAAQ,CACN,GAAM,mBADR,mBAGA,+FACA,YAAC,IAAD,CAAWC,KAAK,UAAUE,SAAU,CAClCC,IAAK,CACHC,MAAO,sJAKP,0LAMDL,QAAQ,cACX,YAAC,IAAD,CAAMM,GAAG,iCAAiCN,QAAQ,QAAlD,iBACA,iBAAQ,CACN,GAAM,sBADR,sBAGA,2LACA,YAAC,IAAD,CAAWC,KAAK,UAAUE,SAAU,CAClCC,IAAK,CACHC,MAAO,8FAGP,0IAIDL,QAAQ,cACX,YAAC,IAAD,CAAMM,GAAG,oCAAoCN,QAAQ,QAArD,uB,0NAKJH,EAAWU,gBAAiB","file":"component---src-conceptual-life-cycle-session-user-mdx-554a3012c02ecf766a6e.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/nextgen-docs/nextgen-docs/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Code, CodeBlock, TextBlock, Link, MD } from \"components\";\nimport { usePlatforms } from 'hooks';\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <TextBlock kind='title' mdxType=\"TextBlock\">{`Life Cycle, Session, User`}</TextBlock>\n    <p><em parentName=\"p\">{`This section covers the way Smartlook automatically follows app lifecycle, and introduces the concept of recording sessions and users.`}</em></p>\n    <p>{`Apart from the initial Smartlook setup when a new instance of an app starts, Smartlook follows the life-cycle of the app automatically. When the app is suspended to the background, recording is paused automatically. When the app resumes to the frontend again, the recording resumes. There is no need to call API methods to achieve this basic behaviour.`}</p>\n    <h1 {...{\n      \"id\": \"session\"\n    }}>{`Session`}</h1>\n    <p>{`Sessions roughly correspond to individual app “runs”.`}</p>\n    <p>{`This does not mean, however, that each interval when the app is on screen is always recorded as a separate session. When an app is suspended to the background just for a short period of time (e.g., it is interrupted by an incoming call, notification), the original session continues when the app is resumed. If the app is closed for several minutes, a new session will start at the next app opening.`}</p>\n    <TextBlock kind=\"important\" mdxType=\"TextBlock\">\n      {`\nTo change this default behaviour, an API method that resets the session must be called when appropriate, as described later in this document.\n`}\n    </TextBlock>\n    <h1 {...{\n      \"id\": \"user\"\n    }}>{`User`}</h1>\n    <p>{`Smartlook records user interactions with the app in sessions.`}</p>\n    <p>{`Every session has a single user. A single user can have multiple sessions.`}</p>\n    <p>{`You can uniquely identify the user across by associating a unique identifier with it by calling:`}</p>\n    <CodeBlock kind=\"example\" snippets={{\n      ios: {\n        swift: `\nSmartlook.setUserIdentifier(someInternalUserID)\n      `,\n        'objective-c': `\n[Smartlook setUserIdentifier:someInternalUserID];\n      `\n      }\n    }} mdxType=\"CodeBlock\" />\n    <p>{`This call associates the current user with the provided id. If a user with such an id already exists in one of your Smartlook projects, the session is automatically assigned to that user.`}</p>\n    <TextBlock kind=\"important\" mdxType=\"TextBlock\">{`\nWhen you call this method again with a different user identifier, it does not create a new user, it changes the id of the user currently associated with the session. To “login” a new user, use the resetSession method described in the following section.\n`}</TextBlock>\n    <p>{`The app remembers the last user id and reuses it as the default user id with each new session (i.e., when the app is launched again on the device). This happens even when you do not identify the user explicitly. This ensures that when the app runs again on the same device, the implicit users are by default associated together.`}</p>\n    <Link to=\"/api_reference#user-identification\" mdxType=\"Link\">API Reference</Link>\n    <h1 {...{\n      \"id\": \"explicit-control-of-sessions-and-users\"\n    }}>{`Explicit Control of Sessions and Users`}</h1>\n    <p>{`In some use cases it makes sense to explicitly control the session and users flow. For example, when a device with an app is shared among many users. In these cases the app should always start with a fresh session (or user). To do so, use one of the following setup option:`}</p>\n    <CodeBlock kind=\"example\" snippets={{\n      ios: {\n        swift: `\n// to always setup with new session\nSmartlook.setup(key: \"YOUR_API_KEY\", \n                options: [.startNewSession: true])\\\\n\n// to start with new session and user\nSmartlook.setup(key: \"YOUR_API_KEY\", \n                options: [.startNewSessionAndUser: true])\n`,\n        'objective-c': `\n// to always setup with new session\n[Smartlook setupWithKey:@\"YOUR_API_KEY\" \n                options:@{\n                     SLSetupOptionStartNewSessionKey: @YES\n                }];\\\\n\n// to setup with new session and user\n[Smartlook setupWithKey:@YOUR_API_KEY \n                options:@{\n                     SLSetupOptionStartNewSessionAndResetUserKey: @YES\n                }];\n      `\n      }\n    }} mdxType=\"CodeBlock\" />\n    <p>{`When it is desired to start a new session, or login a new user while the app is running, you can force it by using the following method. The resetUser attribute indicates, whether the user identity should be also reset, or whether the new session should retain the user from the current session.`}</p>\n    <CodeBlock snippets={{\n      ios: {\n        swift: `\nclass func resetSession(resetUser: Bool)\n      `,\n        \"objective-c\": `\n+ (void)resetSessionAndUser:(BOOL)resetUser;\n      `\n      }\n    }} mdxType=\"CodeBlock\" />\n    <TextBlock kind=\"important\" mdxType=\"TextBlock\">{`\nIt is not recommended to call this method when the app is running in the background. Smartlook is busy with cleaning up when the app is going to background, and calling this method may create ephemeral sessions as an unwanted consequence. If you don’t want sessions to continue with the next app launch under any circumstance, use the setup resetSession options when initializing Smartlook instead.\n`}</TextBlock>\n    <h1 {...{\n      \"id\": \"explicit-recording-stopping-and-starting\"\n    }}>{`Explicit Recording Stopping and Starting`}</h1>\n    <TextBlock kind=\"important\" mdxType=\"TextBlock\">\n**Smartlook follows the app life-cycle automatically** and it is not necessary, under normal circumstances, to stop and restart recording programmatically. \n    </TextBlock>\n    <p>{`However, situations when you want to record just a small part of your application, it is still possible to stop and start recording programmatically. To control and check whether Smartlook is active in your app, use the following methods:`}</p>\n    <CodeBlock snippets={{\n      ios: {\n        swift: `\nclass func startRecording()\nclass func stopRecording()\nclass func isRecording() -> Bool\n      `,\n        \"objective-c\": `\n+ (void)startRecording;\n+ (void)stopRecording;\n+ (BOOL)isRecording;\n      `\n      }\n    }} mdxType=\"CodeBlock\" />\n    <Link to=\"/api_reference#start-and-stop-recording\" mdxType=\"Link\">API reference</Link>\n    <TextBlock kind=\"note\" mdxType=\"TextBlock\">\nWhen you control recording programmatically, the time the user spends in the rest of the app is not visible on the timeline. Thus, for just a short recording interruption (e.g., when the user fills in some form full of sensitive data), consider switching to some combination of rendering and event tracking modes. This way, you will see the time the user spent incognito on the timeline. You can find more about this in \n      <Link to=\"/conceptual/handling-sensitive-data\" mdxType=\"Link\">Handling Sensitive Data</Link>.\n    </TextBlock>\n    <h1 {...{\n      \"id\": \"session-and-user-properties\"\n    }}>{`Session and User properties`}</h1>\n    <p>{`In many cases, it is convenient to associate some custom properties to the current session or app user. Smartlook offers a set of straightforward methods to do this. `}</p>\n    <TextBlock kind=\"note\" mdxType=\"TextBlock\">{`\nCurrently, only string values are accepted both as property keys and values.\n`}</TextBlock>\n    <h2 {...{\n      \"id\": \"user-properties\"\n    }}>{`User Properties`}</h2>\n    <p>{`User properties are set to the user and do not change across sessions.`}</p>\n    <CodeBlock kind=\"example\" snippets={{\n      ios: {\n        swift: `\nSmartlook.setUserIdentifier(someInternalUserID, [\"ZIP\" : userZIP])\n...\nSmartlook.setSessionProperty(value: userZIPCode, forName: \"ZIP\")\n      `,\n        \"objective-c\": `\n[Smartlook setUserIdentifier:someInternalUserID withProperties:@{ @\"ZIP\" : userZIPCode }];\n...\n[Smartlook setUserPropertyValue:someZIPCode forName:@\"ZIP\"];\n      `\n      }\n    }} mdxType=\"CodeBlock\" />\n    <Link to=\"/api_reference#user-properties\" mdxType=\"Link\">API Reference</Link>\n    <h2 {...{\n      \"id\": \"session-properties\"\n    }}>{`Session Properties`}</h2>\n    <p>{`User properties are set to the current session and are not copied to the next session (where the session roughly corresponds to \"an app run\", as described above).`}</p>\n    <CodeBlock kind=\"example\" snippets={{\n      ios: {\n        swift: `\nSmartlook.setSessionProperty(value: \"\\\\(topAchievedLevel)\", forName: \"TOP_LEVEL\")\n      `,\n        'objective-c': `\n[Smartlook setSessionPropertyValue:[NSString stringWithFormat:@\"%d\", topAchievedLevel] forName:@\"TOP_LEVEL\"];\n      `\n      }\n    }} mdxType=\"CodeBlock\" />\n    <Link to=\"/api_reference#session-properties\" mdxType=\"Link\">API Reference</Link>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}